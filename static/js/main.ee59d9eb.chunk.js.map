{"version":3,"sources":["App.js","index.js"],"names":["App","_useState","useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","selectionModel","setSelectionModel","_useState5","_useState6","search","setSearch","_useState7","_useState8","page","setPage","_useState9","_useState10","open","setOpen","handleClose","_useState11","_useState12","editData","setEditData","columns","field","headerName","width","sortable","renderCell","params","_jsxs","Grid","item","xs","children","_jsx","IconButton","onClick","e","stopPropagation","api","thisRow","getAllColumns","filter","c","forEach","getValue","id","temp","obj","row","console","log","DeleteIcon","EditIcon","useEffect","axios","get","then","response","name","toLowerCase","includes","email","role","className","style","position","height","left","right","background","borderBlock","TextField","placeholder","margin","color","onChange","target","value","trim","Modal","onClose","Box","sx","top","transform","bgcolor","border","boxShadow","p","_objectSpread","Button","variant","map","DataGrid","rows","pageSize","checkboxSelection","onSelectionModelChange","newSelection","selection","length","slice","onPageChange","bold","rootElement","document","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ee59d9eb.chunk.js","sourcesContent":["import \"./styles.css\";\nimport { useState, useEffect } from \"react\";\nimport { IconButton, Button, TextField, Modal, Box } from \"@mui/material\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport Grid from \"@mui/material/Grid\";\nimport { DataGrid, GridColDef, GridApi, GridCellValue } from \"@mui/x-data-grid\";\nimport axios from \"axios\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport { colors } from \"@material-ui/core\";\n\nconst baseURL =\n  \"https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json\";\n\nexport default function App() {\n  const [data, setData] = useState([]);\n  const [selectionModel, setSelectionModel] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [page, setPage] = useState(0);\n  const [open, setOpen] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const [editData, setEditData] = useState([]);\n\n  const columns = [\n    { field: \"id\", headerName: \"ID\", width: 50 },\n    { field: \"name\", headerName: \"Name\", width: 150 },\n    { field: \"email\", headerName: \"Email\", width: 200 },\n    {\n      field: \"role\",\n      headerName: \"Role\",\n      width: 90\n    },\n    {\n      field: \"action\",\n      headerName: \"Action\",\n      sortable: false,\n      width: 150,\n      renderCell: (params) => {\n        const handleDelete = (e) => {\n          e.stopPropagation();\n\n          const api = params.api;\n          const thisRow = {};\n\n          api\n            .getAllColumns()\n            .filter((c) => c.field !== \"__check__\" && !!c)\n            .forEach(\n              (c) => (thisRow[c.field] = params.getValue(params.id, c.field))\n            );\n          let temp = data.filter((obj) => thisRow.id !== obj.id);\n          setData(temp);\n          row = data;\n          console.log(thisRow);\n        };\n\n        const handleEdit = (e) => {\n          e.stopPropagation();\n\n          const api = params.api;\n          const thisRow = {};\n\n          api\n            .getAllColumns()\n            .filter((c) => c.field !== \"__check__\" && !!c)\n            .forEach(\n              (c) => (thisRow[c.field] = params.getValue(params.id, c.field))\n            );\n          handleOpen();\n          setEditData(thisRow);\n        };\n\n        return (\n          <Grid item xs={8}>\n            <IconButton onClick={handleDelete}>\n              <DeleteIcon />\n            </IconButton>\n            <IconButton onClick={handleEdit}>\n              <EditIcon />\n            </IconButton>\n          </Grid>\n        );\n      }\n    }\n  ];\n\n  const deleteSelected = () => {\n    let temp = data.filter((obj) => !selectionModel.includes(obj.id));\n    setData(temp);\n    setSelectionModel([]);\n  };\n\n  useEffect(() => {\n    axios.get(baseURL).then((response) => {\n      setData(response.data);\n    });\n  }, []);\n\n  let row = data.filter(\n    (obj) =>\n      obj.name.toLowerCase().includes(search) ||\n      obj.email.toLowerCase().includes(search) ||\n      obj.role.toLowerCase().includes(search)\n  );\n  const handleSearch = (e) => {\n    setSearch(e.target.value.toLowerCase().trim());\n  };\n\n  const style = {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: 300,\n    bgcolor: \"background.paper\",\n    border: \"5px solid #000\",\n    boxShadow: 24,\n    p: 5\n  };\n\n  return (\n    <div className=\"App\">\n      <div\n        style={{\n          position: \"absolute\",\n          height: \"500px\",\n          left: \"20%\",\n          right: \"20%\",\n          background: \"thistle\",\n          borderBlock: \"bold\"\n        }}\n      >\n        <TextField\n          placeholder=\"Search by name, email or role\"\n          style={{ margin: \"5px\", width: \"500px\" }}\n          color=\"primary\"\n          onChange={handleSearch}\n        />\n        <Modal\n          open={open}\n          onClose={handleClose}\n          aria-labelledby=\"modal-modal-title\"\n          aria-describedby=\"modal-modal-description\"\n        >\n          <Box sx={style}>\n            <TextField\n              style={{ margin: \"2.5px\" }}\n              value={editData.name}\n              onChange={(e) => {\n                setEditData({ ...editData, name: e.target.value });\n              }}\n            />\n            <TextField\n              style={{ margin: \"2.5px\" }}\n              value={editData.email}\n              onChange={(e) => {\n                setEditData({ ...editData, email: e.target.value });\n              }}\n            />\n            <TextField\n              style={{ margin: \"2.5px\" }}\n              value={editData.role}\n              onChange={(e) => {\n                setEditData({ ...editData, role: e.target.value });\n              }}\n            />\n            <Button\n              style={{ margin: \"2.5px\" }}\n              variant=\"outlined\"\n              color=\"success\"\n              onClick={() => {\n                let temp = data.map((obj) => {\n                  if (obj.id === editData.id) {\n                    return editData;\n                  } else {\n                    return obj;\n                  }\n                });\n                setData(temp);\n                handleClose();\n              }}\n            >\n              Update\n            </Button>\n          </Box>\n        </Modal>\n        <DataGrid\n          rows={row}\n          columns={columns}\n          pageSize={10}\n          checkboxSelection\n          onSelectionModelChange={(newSelection) => {\n            let selection = [];\n            if (newSelection.length === data.length) {\n              console.log(page);\n              selection = newSelection.slice(page * 10, page * 10 + 10);\n              setSelectionModel(selection);\n            } else {\n              setSelectionModel(newSelection);\n            }\n          }}\n          onPageChange={(page) => setPage(page)}\n          selectionModel={selectionModel}\n        />\n        <Button\n          onClick={deleteSelected}\n          style={{\n            bold: \"4\",\n            margin: \"5px\",\n            position: \"relative\",\n            left: \"10px\"\n          }}\n          variant=\"outlined\"\n          color=\"error\"\n        >\n          Delete Selected Items\n        </Button>\n      </div>\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}